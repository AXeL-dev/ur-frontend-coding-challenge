<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="United Remote front-end coding challenge">
    <meta name="author" content="AXeL">

    <title>Newest Github Repositories</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./custom.css">
</head>
<body>

    <!-- Container -->
    <div id="app" class="container my-5" v-cloak>

        <!-- Cards -->
        <div v-infinite-scroll="loadMoreResults" infinite-scroll-disabled="isLoading" infinite-scroll-distance="10">
            <div class="card mb-5" v-for="repository in repositories">
                <div class="row no-gutters p-3">
                    <div class="col-2">
                        <a v-bind:href="repository.owner.html_url" target="_blank">
                            <img class="img-fluid" v-bind:src="repository.owner.avatar_url" alt="Owner Avatar">
                        </a>
                    </div>
                    <div class="col">
                        <div class="card-block px-3">
                            <h4 class="card-title">
                                <a v-bind:href="repository.html_url" target="_blank">{{ repository.name }}</a>
                            </h4>
                            <p class="card-text">{{ repository.description }}</p>
                        </div>
                    </div>
                </div>
                <div class="card-footer w-100 text-muted">
                    <button type="button" class="btn btn-light border mr-2">
                      Stars : <span class="badge badge-warning">{{ repository.stargazers_count }}</span>
                    </button>
                    <button type="button" class="btn btn-light border mr-2">
                      Issues : <span class="badge badge-secondary">{{ repository.open_issues_count }}</span>
                    </button>
                    <span>
                      Submitted {{ timeInterval(repository.created_at) }} days ago by 
                      <a v-bind:href="repository.owner.html_url" target="_blank">{{ repository.owner.login }}</a>
                    </span>
                </div>
            </div>
        </div>

        <!-- Loading indicator -->
        <div class="d-flex justify-content-center" v-bind:class="{ centered: repositories.length == 0 }" v-show="isLoading">
            <div class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

    </div>

    <!-- JS -->
    <script src="./node_modules/vue/dist/vue.min.js"></script>
    <script src="./node_modules/axios/dist/axios.min.js"></script>
    <script src="./node_modules/vue-infinite-scroll/vue-infinite-scroll.js"></script>
    <script src="./node_modules/moment/min/moment.min.js"></script>
    <script src="./app.js"></script>
</body>
</html>