<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="United Remote front-end coding challenge">
    <meta name="author" content="AXeL">

    <title>Newest Github Repositories</title>

    <!-- CSS -->
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="custom.css">
</head>
<body ng-app="myApp">

    <!-- Container/Main Controller -->
    <div class="container" ng-controller="mainController">

        <!-- Cards -->
        <div infinite-scroll="loadMoreRepositories()">
            <div class="card my-5" ng-repeat="repository in repositories">
                <div class="row no-gutters p-3">
                    <div class="col-2">
                        <a href="{{ repository.owner.html_url }}" target="_blank">
                            <img class="img-fluid" src="{{ repository.owner.avatar_url }}" alt="Owner Avatar">
                        </a>
                    </div>
                    <div class="col">
                        <div class="card-block px-3">
                            <h4 class="card-title">
                                <a href="{{ repository.html_url }}" target="_blank">{{ repository.name }}</a>
                            </h4>
                            <p class="card-text">{{ repository.description }}</p>
                        </div>
                    </div>
                </div>
                <div class="card-footer w-100 text-muted">
                    <button type="button" class="btn btn-light border mr-2">
                      Stars : <span class="badge badge-warning">{{ repository.stargazers_count }}</span>
                    </button>
                    <button type="button" class="btn btn-light border mr-2">
                      Issues : <span class="badge badge-secondary">{{ repository.open_issues_count }}</span>
                    </button>
                    Submitted {{ timeInterval(repository.created_at) }} days ago by {{ repository.owner.login }}
                </div>
            </div>
        </div>

        <!-- Loading indicator -->
        <div class="d-flex justify-content-center my-5" ng-class="{'centered': repositories.length == 0}" ng-show="repositories.length == 0 || isLoading">
            <div ng-class="{'spinner-grow': repositories.length == 0, 'spinner-border': repositories.length > 0 && isLoading}" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

    </div>

    <!-- JS -->
    <script src="node_modules/angular/angular.min.js"></script>
    <script src="node_modules/ng-infinite-scroll/build/ng-infinite-scroll.min.js"></script>
    <script src="node_modules/moment/min/moment.min.js"></script>
    <script src="node_modules/jquery/jquery.min.js"></script>
    <script src="app.js"></script>
</body>
</html>